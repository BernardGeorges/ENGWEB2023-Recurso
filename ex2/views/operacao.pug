extends layout
block content
  .w3-card-4
    - let operation = null

    - for (const operacao of operacoes) {
      - const foundOperation = operacao.operacoes.find(operacao => operacao.codigo === code)
      - if (foundOperation) {
        - operation = foundOperation
        - break
      - }
    - }
    header.w3-container.w3-teal
      h1 Utilizadores com Intervenção #{code}
    .w3-container
      h4 Código: #{operation.codigo}
      h4 Nome: #{operation.nome}
      h4 Descricao: #{operation.descricao}
      table.w3-table-all
        tr
          th Id
          th Data
          th Nome
          th Idade 
          th Sexo
          th Número de intervenções
        
        each operacao in operacoes
          if operacao.operacoes.some(operacao => operacao.codigo === code)
            tr
              td #[a(href="/"+operacao._id) #{operacao._id}]
              td= operacao.data
              td= operacao.nome
              td= operacao.idade
              td= operacao.sexo
              td= operacao.nr_operacoes
              
    footer.w3-container.w3-teal
      h5 Generated by _____ - #[a(href="/") Return]